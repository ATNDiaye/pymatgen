<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pymatgen.util package &mdash; pymatgen 2.8.9 documentation</title>
    
    <link rel="stylesheet" href="_static/proBlue.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.8.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="pymatgen 2.8.9 documentation" href="index.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33990148-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">pymatgen 2.8.9 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pymatgen-util-package">
<h1>pymatgen.util package<a class="headerlink" href="#pymatgen-util-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pymatgen.util.coord_utils">
<span id="pymatgen-util-coord-utils-module"></span><h2>pymatgen.util.coord_utils module<a class="headerlink" href="#module-pymatgen.util.coord_utils" title="Permalink to this headline">¶</a></h2>
<p>Utilities for manipulating coordinates or list of coordinates, under periodic
boundary conditions or otherwise. Many of these are heavily vectorized in
numpy for performance.</p>
<dl class="function">
<dt id="pymatgen.util.coord_utils.barycentric_coords">
<tt class="descname">barycentric_coords</tt><big>(</big><em>coords</em>, <em>simplex</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/coord_utils.html#barycentric_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord_utils.barycentric_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a list of coordinates to barycentric coordinates, given a
simplex with d+1 points. Only works for d &gt;= 2.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>coords:</dt>
<dd>list of n coords to transform, shape should be (n,d)</dd>
<dt>simplex:</dt>
<dd>list of coordinates that form the simplex, shape should be
(d+1, d)</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>a LIST of barycentric coordinates (even if the original input was 1d)</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord_utils.find_in_coord_list">
<tt class="descname">find_in_coord_list</tt><big>(</big><em>coord_list</em>, <em>coord</em>, <em>atol=1e-08</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/coord_utils.html#find_in_coord_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord_utils.find_in_coord_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the indices of matches of a particular coord in a coord_list.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>coord_list:</dt>
<dd>List of coords to test</dd>
<dt>coord:</dt>
<dd>Specific coordinates</dd>
<dt>atol:</dt>
<dd>Absolute tolerance. Defaults to 1e-8.
Accepts both scalar and array</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>Indices of matches, e.g., [0, 1, 2, 3]. Empty list if not found.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord_utils.find_in_coord_list_pbc">
<tt class="descname">find_in_coord_list_pbc</tt><big>(</big><em>fcoord_list</em>, <em>fcoord</em>, <em>atol=1e-08</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/coord_utils.html#find_in_coord_list_pbc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord_utils.find_in_coord_list_pbc" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the indices of all points in a fractional coord list that are
equal to a fractional coord (with a tolerance), taking into account
periodic boundary conditions.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>fcoord_list:</dt>
<dd>List of fractional coords</dd>
<dt>fcoord:</dt>
<dd>A specific fractional coord to test.</dd>
<dt>atol:</dt>
<dd>Absolute tolerance. Defaults to 1e-8.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>Indices of matches, e.g., [0, 1, 2, 3]. Empty list if not found.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord_utils.get_angle">
<tt class="descname">get_angle</tt><big>(</big><em>v1</em>, <em>v2</em>, <em>units='degrees'</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/coord_utils.html#get_angle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord_utils.get_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the angle between two vectors.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>v1:</dt>
<dd>Vector 1</dd>
<dt>v2:</dt>
<dd>Vector 2</dd>
<dt>units:</dt>
<dd>&#8220;degrees&#8221; or &#8220;radians&#8221;. Defaults to &#8220;degrees&#8221;.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>Angle between them in degrees.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord_utils.get_linear_interpolated_value">
<tt class="descname">get_linear_interpolated_value</tt><big>(</big><em>x_values</em>, <em>y_values</em>, <em>x</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/coord_utils.html#get_linear_interpolated_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord_utils.get_linear_interpolated_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an interpolated value by linear interpolation between two values.
This method is written to avoid dependency on scipy, which causes issues on
threading servers.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>x_values:</dt>
<dd>Sequence of x values.</dd>
<dt>y_values:</dt>
<dd>Corresponding sequence of y values</dd>
<dt>x:</dt>
<dd>Get value at particular x</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>Value at x.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord_utils.get_points_in_sphere_pbc">
<tt class="descname">get_points_in_sphere_pbc</tt><big>(</big><em>lattice</em>, <em>frac_points</em>, <em>center</em>, <em>r</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/coord_utils.html#get_points_in_sphere_pbc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord_utils.get_points_in_sphere_pbc" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all points within a sphere from the point taking into account
periodic boundary conditions. This includes sites in other periodic images.</p>
<p>Algorithm:</p>
<ol class="arabic">
<li><p class="first">place sphere of radius r in crystal and determine minimum supercell
(parallelpiped) which would contain a sphere of radius r. for this
we need the projection of a_1 on a unit vector perpendicular
to a_2 &amp; a_3 (i.e. the unit vector in the direction b_1) to
determine how many a_1&#8221;s it will take to contain the sphere.</p>
<p>Nxmax = r * length_of_b_1 / (2 Pi)</p>
</li>
<li><p class="first">keep points falling within r.</p>
</li>
</ol>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>lattice:</dt>
<dd>The lattice/basis for the periodic boundary conditions.</dd>
<dt>frac_points:</dt>
<dd>All points in the lattice in fractional coordinates.</dd>
<dt>center:</dt>
<dd>cartesian coordinates of center of sphere.</dd>
<dt>r:</dt>
<dd>radius of sphere.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>[(fcoord, dist) ...] since most of the time, subsequent processing
requires the distance.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord_utils.in_coord_list">
<tt class="descname">in_coord_list</tt><big>(</big><em>coord_list</em>, <em>coord</em>, <em>atol=1e-08</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/coord_utils.html#in_coord_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord_utils.in_coord_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if a particular coord is within a coord_list.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>coord_list:</dt>
<dd>List of coords to test</dd>
<dt>coord:</dt>
<dd>Specific coordinates</dd>
<dt>atol:</dt>
<dd>Absolute tolerance. Defaults to 1e-8.
Accepts both scalar and array</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>True if coord is in the coord list.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord_utils.in_coord_list_pbc">
<tt class="descname">in_coord_list_pbc</tt><big>(</big><em>fcoord_list</em>, <em>fcoord</em>, <em>atol=1e-08</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/coord_utils.html#in_coord_list_pbc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord_utils.in_coord_list_pbc" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if a particular fractional coord is within a fractional coord_list.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>fcoord_list:</dt>
<dd>List of fractional coords to test</dd>
<dt>fcoord:</dt>
<dd>A specific fractional coord to test.</dd>
<dt>atol:</dt>
<dd>Absolute tolerance. Defaults to 1e-8.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>True if coord is in the coord list.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord_utils.pbc_all_distances">
<tt class="descname">pbc_all_distances</tt><big>(</big><em>lattice</em>, <em>fcoords1</em>, <em>fcoords2</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/coord_utils.html#pbc_all_distances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord_utils.pbc_all_distances" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the distances between two lists of coordinates taking into
account periodic boundary conditions and the lattice. Note that this
computes an MxN array of distances (i.e. the distance between each
point in fcoords1 and every coordinate in fcoords2). This is
different functionality from pbc_diff.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>lattice:</dt>
<dd>lattice to use</dd>
<dt>fcoords1:</dt>
<dd>First set of fractional coordinates. e.g., [0.5, 0.6,
0.7] or [[1.1, 1.2, 4.3], [0.5, 0.6, 0.7]]. It can be a single
coord or any array of coords.</dd>
<dt>fcoords2:</dt>
<dd>Second set of fractional coordinates.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>2d array of cartesian distances. E.g the distance between
fcoords1[i] and fcoords2[j] is distances[i,j]</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord_utils.pbc_diff">
<tt class="descname">pbc_diff</tt><big>(</big><em>fcoords1</em>, <em>fcoords2</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/coord_utils.html#pbc_diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord_utils.pbc_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the &#8216;fractional distance&#8217; between two coordinates taking into
account periodic boundary conditions.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>fcoords1:</dt>
<dd>First set of fractional coordinates. e.g., [0.5, 0.6,
0.7] or [[1.1, 1.2, 4.3], [0.5, 0.6, 0.7]]. It can be a single
coord or any array of coords.</dd>
<dt>fcoords2:</dt>
<dd>Second set of fractional coordinates.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>Fractional distance. Each coordinate must have the property that
abs(a) &lt;= 0.5. Examples:
pbc_diff([0.1, 0.1, 0.1], [0.3, 0.5, 0.9]) = [-0.2, -0.4, 0.2]
pbc_diff([0.9, 0.1, 1.01], [0.3, 0.5, 0.9]) = [-0.4, -0.4, 0.11]</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.coord_utils.pbc_shortest_vectors">
<tt class="descname">pbc_shortest_vectors</tt><big>(</big><em>lattice</em>, <em>fcoords1</em>, <em>fcoords2</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/coord_utils.html#pbc_shortest_vectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.coord_utils.pbc_shortest_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the shortest vectors between two lists of coordinates taking into
account periodic boundary conditions and the lattice.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>lattice:</dt>
<dd>lattice to use</dd>
<dt>fcoords1:</dt>
<dd>First set of fractional coordinates. e.g., [0.5, 0.6,
0.7] or [[1.1, 1.2, 4.3], [0.5, 0.6, 0.7]]. It can be a single
coord or any array of coords.</dd>
<dt>fcoords2:</dt>
<dd>Second set of fractional coordinates.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>array of displacement vectors from fcoords1 to fcoords2
first index is fcoords1 index, second is fcoords2 index</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pymatgen.util.decorators">
<span id="pymatgen-util-decorators-module"></span><h2>pymatgen.util.decorators module<a class="headerlink" href="#module-pymatgen.util.decorators" title="Permalink to this headline">¶</a></h2>
<p>This module contains useful decorators for a variety of functions.</p>
<dl class="function">
<dt id="pymatgen.util.decorators.cached_class">
<tt class="descname">cached_class</tt><big>(</big><em>klass</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/decorators.html#cached_class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.decorators.cached_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to cache class instances by constructor arguments.
This results in a class that behaves like a singleton for each
set of constructor arguments, ensuring efficiency.</p>
<p>Note that this should be used for <em>immutable classes only</em>.  Having
a cached mutable class makes very little sense.  For efficiency,
avoid using this decorator for situations where there are many
constructor arguments permutations.</p>
<p>The keywords argument dictionary is converted to a tuple because
dicts are mutable; keywords themselves are strings and
so are always hashable, but if any arguments (keyword
or positional) are non-hashable, that set of arguments
is not cached.</p>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.decorators.deprecated">
<tt class="descname">deprecated</tt><big>(</big><em>replacement=None</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/decorators.html#deprecated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.decorators.deprecated" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to mark classes or functions as deprecated,
with a possible replacement.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>replacement:</dt>
<dd>A replacement class or method.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>Original function, but with a warning to use the updated class.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.decorators.enable_logging">
<tt class="descname">enable_logging</tt><big>(</big><em>main</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/decorators.html#enable_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.decorators.enable_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>This decorator is used to decorate main functions.
It adds the initialization of the logger and an argument parser that allows one to select the loglevel.
Useful if we are writing simple main functions that call libraries where the logging module is used</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>main:</dt>
<dd>main function.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.decorators.logged">
<tt class="descname">logged</tt><big>(</big><em>level=10</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/decorators.html#logged"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.decorators.logged" title="Permalink to this definition">¶</a></dt>
<dd><p>Useful logging decorator. If a method is logged, the beginning and end of
the method call will be logged at a pre-specified level.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>level:</dt>
<dd>Level to log method at. Defaults to DEBUG.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="pymatgen.util.decorators.requires">
<em class="property">class </em><tt class="descname">requires</tt><big>(</big><em>condition</em>, <em>message</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/decorators.html#requires"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.decorators.requires" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Decorator to mark classes or functions as requiring a specified condition
to be true. This can be used to present useful error messages for
optional dependencies. For example, decorating the following code will
check if scipy is present and if not, a runtime error will be raised if
someone attempts to call the use_scipy function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">scipy</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="n">scipy</span> <span class="o">=</span> <span class="bp">None</span>

<span class="nd">@requires</span><span class="p">(</span><span class="n">scipy</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&quot;scipy is not present.&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">use_scipy</span><span class="p">():</span>
    <span class="k">print</span> <span class="n">scipy</span><span class="o">.</span><span class="n">majver</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>condition:</dt>
<dd>Condition necessary to use the class or function.</dd>
<dt>message:</dt>
<dd>A message to be displayed if the condition is not True.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.decorators.singleton">
<tt class="descname">singleton</tt><big>(</big><em>cls</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/decorators.html#singleton"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.decorators.singleton" title="Permalink to this definition">¶</a></dt>
<dd><p>This decorator can be used to create a singleton out of a class.</p>
</dd></dl>

</div>
<div class="section" id="module-pymatgen.util.io_utils">
<span id="pymatgen-util-io-utils-module"></span><h2>pymatgen.util.io_utils module<a class="headerlink" href="#module-pymatgen.util.io_utils" title="Permalink to this headline">¶</a></h2>
<p>This module provides utility classes for io operations.</p>
<dl class="class">
<dt id="pymatgen.util.io_utils.FileLock">
<em class="property">class </em><tt class="descname">FileLock</tt><big>(</big><em>file_name</em>, <em>timeout=10</em>, <em>delay=0.05</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#FileLock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.io_utils.FileLock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A file locking mechanism that has context-manager support so you can use
it in a with statement. This should be relatively cross-compatible as it
doesn&#8217;t rely on msvcrt or fcntl for the locking.
Taken from <a class="reference external" href="http://www.evanfosmark.com/2009/01/cross-platform-file-locking">http://www.evanfosmark.com/2009/01/cross-platform-file-locking</a>
-support-in-python/</p>
<p>Prepare the file locker. Specify the file to lock and optionally
the maximum timeout and the delay between each attempt to lock.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>file_name:</dt>
<dd>Name of file to lock.</dd>
<dt>timeout:</dt>
<dd>Maximum timeout for locking. Defaults to 10.</dd>
<dt>delay:</dt>
<dd>Delay between each attempt to lock. Defaults to 0.05.</dd>
</dl>
</dd>
</dl>
<dl class="attribute">
<dt id="pymatgen.util.io_utils.FileLock.Error">
<tt class="descname">Error</tt><a class="headerlink" href="#pymatgen.util.io_utils.FileLock.Error" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#pymatgen.util.io_utils.FileLockException" title="pymatgen.util.io_utils.FileLockException"><tt class="xref py py-class docutils literal"><span class="pre">FileLockException</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.util.io_utils.FileLock.acquire">
<tt class="descname">acquire</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#FileLock.acquire"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.io_utils.FileLock.acquire" title="Permalink to this definition">¶</a></dt>
<dd><p>Acquire the lock, if possible. If the lock is in use, it check again
every <cite>delay</cite> seconds. It does this until it either gets the lock or
exceeds <cite>timeout</cite> number of seconds, in which case it throws
an exception.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.util.io_utils.FileLock.release">
<tt class="descname">release</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#FileLock.release"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.io_utils.FileLock.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Get rid of the lock by deleting the lockfile.
When working in a <cite>with</cite> statement, this gets automatically
called at the end.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="pymatgen.util.io_utils.FileLockException">
<em class="property">exception </em><tt class="descname">FileLockException</tt><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#FileLockException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.io_utils.FileLockException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>Exception raised by FileLock.</p>
<p>x.__init__(...) initializes x; see help(type(x)) for signature</p>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.io_utils.clean_json">
<tt class="descname">clean_json</tt><big>(</big><em>input_json</em>, <em>strict=False</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#clean_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.io_utils.clean_json" title="Permalink to this definition">¶</a></dt>
<dd><p>This method cleans an input json-like dict object, either a list or a dict,
nested or otherwise, by converting all non-string dictionary keys (such as
int and float) to strings.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>input_dict:</dt>
<dd>input dictionary.</dd>
<dt>strict:</dt>
<dd>This parameters sets the behavior when clean_json encounters an
object it does not understand. If strict is True, clean_json will
try to get the to_dict attribute of the object. If no such
attribute is found, an attribute error will be thrown. If strict is
False, clean_json will simply call str(object) to convert the
object to a string representation.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>Sanitized dict that can be json serialized.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.io_utils.clean_lines">
<tt class="descname">clean_lines</tt><big>(</big><em>string_list</em>, <em>remove_empty_lines=True</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#clean_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.io_utils.clean_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Strips whitespace, carriage returns and empty lines from a list of strings.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>string_list:</dt>
<dd>List of strings</dd>
<dt>remove_empty_lines:</dt>
<dd>Set to True to skip lines which are empty after stripping.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>List of clean strings with no whitespaces.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.io_utils.micro_pyawk">
<tt class="descname">micro_pyawk</tt><big>(</big><em>filename</em>, <em>search</em>, <em>results=None</em>, <em>debug=None</em>, <em>postdebug=None</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#micro_pyawk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.io_utils.micro_pyawk" title="Permalink to this definition">¶</a></dt>
<dd><p>Small awk-mimicking search routine.</p>
<p>&#8216;file&#8217; is file to search through.
&#8216;search&#8217; is the &#8220;search program&#8221;, a list of lists/tuples with 3 elements;
i.e. [[regex,test,run],[regex,test,run],...]
&#8216;results&#8217; is a an object that your search program will have access to for
storing results.</p>
<p>Here regex is either as a Regex object, or a string that we compile into a
Regex. test and run are callable objects.</p>
<p>This function goes through each line in filename, and if regex matches that
line <em>and</em> test(results,line)==True (or test == None) we execute
run(results,match),where match is the match object from running
Regex.match.</p>
<p>The default results is an empty dictionary. Passing a results object let
you interact with it in run() and test(). Hence, in many occasions it is
thus clever to use results=self.</p>
<p>Author: Rickard Armiento</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>results</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.io_utils.reverse_readline">
<tt class="descname">reverse_readline</tt><big>(</big><em>m_file</em>, <em>blk_size=4096</em>, <em>max_mem=4000000</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#reverse_readline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.io_utils.reverse_readline" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator method to read a file line-by-line, but backwards. This allows
one to efficiently get data at the end of a file.</p>
<p>Based on code by Peter Astrand &lt;<a class="reference external" href="mailto:astrand&#37;&#52;&#48;cendio&#46;se">astrand<span>&#64;</span>cendio<span>&#46;</span>se</a>&gt;, using modifications by
Raymond Hettinger and Kevin German.
<a class="reference external" href="http://code.activestate.com/recipes/439045-read-a-text-file-backwards">http://code.activestate.com/recipes/439045-read-a-text-file-backwards</a>
-yet-another-implementat/</p>
<p>Reads file forwards and reverses in memory for files smaller than the
max_mem parameter, or for gzip files where reverse seeks are not supported.</p>
<p>Files larger than max_mem are dynamically read backwards.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>m_file:</dt>
<dd>File stream to read (backwards)</dd>
<dt>blk_size:</dt>
<dd>The buffer size. Defaults to 4096.</dd>
<dt>max_mem:</dt>
<dd>The maximum amount of memory to involve in this operation. This is
used to determine when to reverse a file in-memory versus seeking
portions of a file. For bz2 files, this sets the maximum block
size.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>Generator that returns lines from the file. Similar behavior to the
file.readline() method, except the lines are returned from the back
of the file.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.io_utils.which">
<tt class="descname">which</tt><big>(</big><em>program</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#which"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.io_utils.which" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns full path to a executable.</p>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.io_utils.zopen">
<tt class="descname">zopen</tt><big>(</big><em>filename</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#zopen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.io_utils.zopen" title="Permalink to this definition">¶</a></dt>
<dd><p>This wrapper wraps around the bz2, gzip and standard python&#8217;s open function
to deal intelligently with bzipped, gzipped or standard text files.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>filename:</dt>
<dd>filename</dd>
<dt>args:</dt>
<dd>Standard args for python open(..). E.g., &#8216;r&#8217; for read, &#8216;w&#8217; for
write.</dd>
<dt>kwargs:</dt>
<dd>Standard kwargs for python open(..).</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>File handler</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.io_utils.zpath">
<tt class="descname">zpath</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#zpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.io_utils.zpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an existing (zipped or unzipped) file path given the unzipped
version. If no path exists, returns the filename unmodified</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>filename:</dt>
<dd>filename without zip extension</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>filename with a zip extension (unless an unzipped version
exists)</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pymatgen.util.num_utils">
<span id="pymatgen-util-num-utils-module"></span><h2>pymatgen.util.num_utils module<a class="headerlink" href="#module-pymatgen.util.num_utils" title="Permalink to this headline">¶</a></h2>
<p>This module provides utilities for basic math operations.</p>
<dl class="function">
<dt id="pymatgen.util.num_utils.chunks">
<tt class="descname">chunks</tt><big>(</big><em>items</em>, <em>n</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/num_utils.html#chunks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.num_utils.chunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield successive n-sized chunks from a list-like object.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">chunks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="mi">10</span><span class="p">)))</span>
<span class="go">[[1, 2, 3, 4, 5, 6, 7, 8, 9, 10],</span>
<span class="go"> [11, 12, 13, 14, 15, 16, 17, 18, 19, 20],</span>
<span class="go"> [21, 22, 23, 24]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.num_utils.ilotri">
<tt class="descname">ilotri</tt><big>(</big><em>items</em>, <em>diago=True</em>, <em>with_inds=False</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/num_utils.html#ilotri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.num_utils.ilotri" title="Permalink to this definition">¶</a></dt>
<dd><p>A generator that yields the lower triangle of the matrix (items x items)</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>items:</dt>
<dd>Iterable object with elements [e0, e1, ...]</dd>
<dt>diago:</dt>
<dd>False if diagonal matrix elements should be excluded</dd>
<dt>with_inds:</dt>
<dd>If True, (i,j) (e_i, e_j) is returned else (e_i, e_j)</dd>
</dl>
</dd>
</dl>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="p">(</span><span class="n">ij</span><span class="p">,</span> <span class="n">mate</span><span class="p">)</span> <span class="ow">in</span> <span class="n">ilotri</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">with_inds</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span> 
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ij:&quot;</span><span class="p">,</span> <span class="n">ij</span><span class="p">,</span> <span class="s">&quot;mate:&quot;</span><span class="p">,</span> <span class="n">mate</span><span class="p">)</span>
<span class="go">ij: (0, 0) mate: (0, 0)</span>
<span class="go">ij: (1, 0) mate: (1, 0)</span>
<span class="go">ij: (1, 1) mate: (1, 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.num_utils.iterator_from_slice">
<tt class="descname">iterator_from_slice</tt><big>(</big><em>s</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/num_utils.html#iterator_from_slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.num_utils.iterator_from_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs an iterator given a slice object s.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The function returns an infinite iterator if s.stop is None</p>
</div>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.num_utils.iuptri">
<tt class="descname">iuptri</tt><big>(</big><em>items</em>, <em>diago=True</em>, <em>with_inds=False</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/num_utils.html#iuptri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.num_utils.iuptri" title="Permalink to this definition">¶</a></dt>
<dd><p>A generator that yields the upper triangle of the matrix (items x items)</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>items:</dt>
<dd>Iterable object with elements [e0, e1, ...]</dd>
<dt>diago:</dt>
<dd>False if diagonal matrix elements should be excluded</dd>
<dt>with_inds:</dt>
<dd>If True, (i,j) (e_i, e_j) is returned else (e_i, e_j)</dd>
</dl>
</dd>
</dl>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="p">(</span><span class="n">ij</span><span class="p">,</span> <span class="n">mate</span><span class="p">)</span> <span class="ow">in</span> <span class="n">iuptri</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">with_inds</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span> 
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="s">&quot;ij:&quot;</span><span class="p">,</span> <span class="n">ij</span><span class="p">,</span> <span class="s">&quot;mate:&quot;</span><span class="p">,</span> <span class="n">mate</span><span class="p">)</span>
<span class="go">ij: (0, 0) mate: (0, 0)</span>
<span class="go">ij: (0, 1) mate: (0, 1)</span>
<span class="go">ij: (1, 1) mate: (1, 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.num_utils.min_max_indexes">
<tt class="descname">min_max_indexes</tt><big>(</big><em>seq</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/num_utils.html#min_max_indexes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.num_utils.min_max_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses enumerate, max, and min to return the indices of the values
in a list with the maximum and minimum value:</p>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.num_utils.monotonic">
<tt class="descname">monotonic</tt><big>(</big><em>values</em>, <em>mode='&lt;'</em>, <em>atol=1e-08</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/num_utils.html#monotonic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.num_utils.monotonic" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns False if values are not monotonic (decreasing|increasing).
mode is &#8220;&lt;&#8221; for a decreasing sequence, &#8220;&gt;&#8221; for an increasing sequence.
Two numbers are considered equal if they differ less that atol.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.2</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">monotonic</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">&quot;&lt;&quot;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">monotonic</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">&quot;&gt;&quot;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.num_utils.non_decreasing">
<tt class="descname">non_decreasing</tt><big>(</big><em>values</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/num_utils.html#non_decreasing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.num_utils.non_decreasing" title="Permalink to this definition">¶</a></dt>
<dd><p>True if values are not decreasing.</p>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.num_utils.non_increasing">
<tt class="descname">non_increasing</tt><big>(</big><em>values</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/num_utils.html#non_increasing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.num_utils.non_increasing" title="Permalink to this definition">¶</a></dt>
<dd><p>True if values are not increasing.</p>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.num_utils.sort_dict">
<tt class="descname">sort_dict</tt><big>(</big><em>d</em>, <em>key=None</em>, <em>reverse=False</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/num_utils.html#sort_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.num_utils.sort_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts a dict by value.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>d:</dt>
<dd>Input dictionary</dd>
<dt>key:</dt>
<dd>function which takes an tuple (key, object) and returns a value to
compare and sort by. By default, the function compares the values
of the dict i.e. key = lambda t : t[1]</dd>
<dt>reverse:</dt>
<dd>allows to reverse sort order.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>OrderedDict object whose keys are ordered according to their value.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.num_utils.strictly_decreasing">
<tt class="descname">strictly_decreasing</tt><big>(</big><em>values</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/num_utils.html#strictly_decreasing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.num_utils.strictly_decreasing" title="Permalink to this definition">¶</a></dt>
<dd><p>True if values are stricly decreasing.</p>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.num_utils.strictly_increasing">
<tt class="descname">strictly_increasing</tt><big>(</big><em>values</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/num_utils.html#strictly_increasing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.num_utils.strictly_increasing" title="Permalink to this definition">¶</a></dt>
<dd><p>True if values are stricly increasing.</p>
</dd></dl>

</div>
<div class="section" id="module-pymatgen.util.plotting_utils">
<span id="pymatgen-util-plotting-utils-module"></span><h2>pymatgen.util.plotting_utils module<a class="headerlink" href="#module-pymatgen.util.plotting_utils" title="Permalink to this headline">¶</a></h2>
<p>Utilities for generating nicer plots.</p>
<dl class="function">
<dt id="pymatgen.util.plotting_utils.get_publication_quality_plot">
<tt class="descname">get_publication_quality_plot</tt><big>(</big><em>width=8</em>, <em>height=None</em>, <em>plt=None</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/plotting_utils.html#get_publication_quality_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.plotting_utils.get_publication_quality_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a publication quality plot, with nice defaults for font sizes etc.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>width:</dt>
<dd>Width of plot in inches. Defaults to 8in.</dd>
<dt>height.</dt>
<dd>Height of plot in inches. Defaults to width * golden ratio.</dd>
<dt>plt:</dt>
<dd>If plt is supplied, changes will be made to an existing plot.
Otherwise, a new plot will be created.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>Matplotlib plot object with properly sized fonts.</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pymatgen.util.string_utils">
<span id="pymatgen-util-string-utils-module"></span><h2>pymatgen.util.string_utils module<a class="headerlink" href="#module-pymatgen.util.string_utils" title="Permalink to this headline">¶</a></h2>
<p>This module provides utility classes for string operations.</p>
<dl class="class">
<dt id="pymatgen.util.string_utils.StringColorizer">
<em class="property">class </em><tt class="descname">StringColorizer</tt><big>(</big><em>stream</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/string_utils.html#StringColorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.string_utils.StringColorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="attribute">
<dt id="pymatgen.util.string_utils.StringColorizer.colours">
<tt class="descname">colours</tt><em class="property"> = {'default': '', 'blue': '\x1b[01;34m', 'green': '\x1b[01;32m', 'red': '\x1b[01;31m', 'cyan': '\x1b[01;36m'}</em><a class="headerlink" href="#pymatgen.util.string_utils.StringColorizer.colours" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymatgen.util.string_utils.WildCard">
<em class="property">class </em><tt class="descname">WildCard</tt><big>(</big><em>wildcard</em>, <em>sep='|'</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/string_utils.html#WildCard"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.string_utils.WildCard" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>This object provides an easy-to-use interface for
filename matching with shell patterns (fnmatch).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o">=</span> <span class="n">WildCard</span><span class="p">(</span><span class="s">&quot;*.nc|*.pdf&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span><span class="o">.</span><span class="n">filter</span><span class="p">([</span><span class="s">&quot;foo.nc&quot;</span><span class="p">,</span> <span class="s">&quot;bar.pdf&quot;</span><span class="p">,</span> <span class="s">&quot;hello.txt&quot;</span><span class="p">])</span>
<span class="go">[&#39;foo.nc&#39;, &#39;bar.pdf&#39;]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">w</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s">&quot;foo.nc&quot;</span><span class="p">)</span>
<span class="go">[&#39;foo.nc&#39;]</span>
</pre></div>
</div>
<p>Args:
wildcard:</p>
<blockquote>
<div>String of tokens separated by sep.
Each token represents a pattern.</div></blockquote>
<dl class="docutils">
<dt>sep:</dt>
<dd>Separator for shell patterns.</dd>
</dl>
<dl class="method">
<dt id="pymatgen.util.string_utils.WildCard.filter">
<tt class="descname">filter</tt><big>(</big><em>names</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/string_utils.html#WildCard.filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.string_utils.WildCard.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list with the names matching the pattern.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.util.string_utils.WildCard.match">
<tt class="descname">match</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/string_utils.html#WildCard.match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.string_utils.WildCard.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if name matches one of the patterns.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pymatgen.util.string_utils.formula_double_format">
<tt class="descname">formula_double_format</tt><big>(</big><em>afloat</em>, <em>ignore_ones=True</em>, <em>tol=1e-08</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/string_utils.html#formula_double_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.string_utils.formula_double_format" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is used to make pretty formulas by formatting the amounts.
Instead of Li1.0 Fe1.0 P1.0 O4.0, you get LiFePO4.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>afloat:</dt>
<dd>a float</dd>
<dt>ignore_ones:</dt>
<dd>if true, floats of 1 are ignored.</dd>
<dt>tol:</dt>
<dd>Tolerance to round to nearest int. i.e. 2.0000000001 -&gt; 2</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>A string representation of the float for formulas.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.string_utils.generate_latex_table">
<tt class="descname">generate_latex_table</tt><big>(</big><em>results</em>, <em>header=None</em>, <em>caption=None</em>, <em>label=None</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/string_utils.html#generate_latex_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.string_utils.generate_latex_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a string latex table from a sequence of sequence.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>result: 2d sequence of arbitrary types.
header: optional header</dd>
<dt>Returns:</dt>
<dd>String representation of Latex table with data.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.string_utils.is_string">
<tt class="descname">is_string</tt><big>(</big><em>s</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/string_utils.html#is_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.string_utils.is_string" title="Permalink to this definition">¶</a></dt>
<dd><p>True if s behaves like a string (duck typing test).</p>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.string_utils.latexify">
<tt class="descname">latexify</tt><big>(</big><em>formula</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/string_utils.html#latexify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.string_utils.latexify" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a latex formatted formula. E.g., Fe2O3 is transformed to
Fe$_{2}$O$_{3}$.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>formula:</dt>
<dd>Input formula.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>Formula suitable for display as in LaTeX with proper subscripts.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.string_utils.latexify_spacegroup">
<tt class="descname">latexify_spacegroup</tt><big>(</big><em>spacegroup_symbol</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/string_utils.html#latexify_spacegroup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.string_utils.latexify_spacegroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a latex formatted spacegroup. E.g., P2_1/c is converted to
P2$_{1}$/c and P-1 is converted to P$overline{1}$.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>spacegroup_symbol:</dt>
<dd>A spacegroup symbol</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>A latex formatted spacegroup with proper subscripts and overlines.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.string_utils.list_strings">
<tt class="descname">list_strings</tt><big>(</big><em>arg</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/string_utils.html#list_strings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.string_utils.list_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Always return a list of strings, given a string or list of strings as
input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Examples:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">list_strings</span><span class="p">(</span><span class="s">&#39;A single string&#39;</span><span class="p">)</span>
<span class="go">[&#39;A single string&#39;]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">list_strings</span><span class="p">([</span><span class="s">&#39;A single string in a list&#39;</span><span class="p">])</span>
<span class="go">[&#39;A single string in a list&#39;]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">list_strings</span><span class="p">([</span><span class="s">&#39;A&#39;</span><span class="p">,</span><span class="s">&#39;list&#39;</span><span class="p">,</span><span class="s">&#39;of&#39;</span><span class="p">,</span><span class="s">&#39;strings&#39;</span><span class="p">])</span>
<span class="go">[&#39;A&#39;, &#39;list&#39;, &#39;of&#39;, &#39;strings&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.string_utils.pprint_table">
<tt class="descname">pprint_table</tt><big>(</big><em>table</em>, <em>out=&lt;open file '&lt;stdout&gt;'</em>, <em>mode 'w' at 0x10028a150&gt;</em>, <em>rstrip=False</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/string_utils.html#pprint_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.string_utils.pprint_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints out a table of data, padded for alignment
Each row must have the same number of columns.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>table:</dt>
<dd>The table to print. A list of lists.</dd>
<dt>out:</dt>
<dd>Output stream (file-like object)</dd>
<dt>rstrip:</dt>
<dd>if True, trailing withespaces are removed from the entries.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.string_utils.remove_non_ascii">
<tt class="descname">remove_non_ascii</tt><big>(</big><em>s</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/string_utils.html#remove_non_ascii"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.string_utils.remove_non_ascii" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove non-ascii characters in a file.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>s:</dt>
<dd>Input string</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>String with all non-ascii characters removed.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.string_utils.str_aligned">
<tt class="descname">str_aligned</tt><big>(</big><em>results</em>, <em>header=None</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/string_utils.html#str_aligned"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.string_utils.str_aligned" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a tuple, generate a nicely aligned string form.
&gt;&gt;&gt; results = [[&#8220;a&#8221;,&#8221;b&#8221;,&#8221;cz&#8221;],[&#8220;d&#8221;,&#8221;ez&#8221;,&#8221;f&#8221;],[1,2,3]]
&gt;&gt;&gt; print str_aligned(results)
a    b   cz
d   ez    f
1    2    3</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>result: 2d sequence of arbitrary types.
header: optional header</dd>
<dt>Returns:</dt>
<dd>Aligned string output in a table-like format.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.string_utils.str_delimited">
<tt class="descname">str_delimited</tt><big>(</big><em>results</em>, <em>header=None</em>, <em>delimiter='\t'</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/string_utils.html#str_delimited"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.string_utils.str_delimited" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a tuple of tuples, generate a delimited string form.
&gt;&gt;&gt; results = [[&#8220;a&#8221;,&#8221;b&#8221;,&#8221;c&#8221;],[&#8220;d&#8221;,&#8221;e&#8221;,&#8221;f&#8221;],[1,2,3]]
&gt;&gt;&gt; print str_delimited(results,delimiter=&#8221;,&#8221;)
a,b,c
d,e,f
1,2,3</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>result: 2d sequence of arbitrary types.
header: optional header</dd>
<dt>Returns:</dt>
<dd>Aligned string output in a table-like format.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pymatgen.util.string_utils.stream_has_colours">
<tt class="descname">stream_has_colours</tt><big>(</big><em>stream</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/string_utils.html#stream_has_colours"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.string_utils.stream_has_colours" title="Permalink to this definition">¶</a></dt>
<dd><p>True if stream supports colours. Python cookbook, #475186</p>
</dd></dl>

</div>
<div class="section" id="module-pymatgen.util.testing">
<span id="pymatgen-util-testing-module"></span><h2>pymatgen.util.testing module<a class="headerlink" href="#module-pymatgen.util.testing" title="Permalink to this headline">¶</a></h2>
<p>Common test support for pymatgen test scripts.</p>
<p>This single module should provide all the common functionality for pymatgen
tests in a single location, so that test scripts can just import it and work
right away.</p>
<dl class="class">
<dt id="pymatgen.util.testing.PymatgenTest">
<em class="property">class </em><tt class="descname">PymatgenTest</tt><big>(</big><em>methodName='runTest'</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/testing.html#PymatgenTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">unittest.case.TestCase</span></tt></p>
<p>Extends unittest.TestCase with functions (taken from numpy.testing.utils)
that support the comparison of arrays.</p>
<p>Create an instance of the class that will use the named test
method when executed. Raises a ValueError if the instance does
not have a method with the specified name.</p>
<dl class="staticmethod">
<dt id="pymatgen.util.testing.PymatgenTest.assertArrayAlmostEqual">
<em class="property">static </em><tt class="descname">assertArrayAlmostEqual</tt><big>(</big><em>actual</em>, <em>desired</em>, <em>decimal=7</em>, <em>err_msg=''</em>, <em>verbose=True</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/testing.html#PymatgenTest.assertArrayAlmostEqual"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest.assertArrayAlmostEqual" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if two arrays are almost equal to a tolerance. The CamelCase
naming is so that it is consistent with standard unittest methods.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="pymatgen.util.testing.PymatgenTest.assertArrayEqual">
<em class="property">static </em><tt class="descname">assertArrayEqual</tt><big>(</big><em>actual</em>, <em>desired</em>, <em>err_msg=''</em>, <em>verbose=True</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/testing.html#PymatgenTest.assertArrayEqual"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest.assertArrayEqual" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Tests if two arrays are equal. The CamelCase naming is so that it is</dt>
<dd>consistent with standard unittest methods.</dd>
</dl>
</dd></dl>

<dl class="staticmethod">
<dt id="pymatgen.util.testing.PymatgenTest.assert_almost_equal">
<em class="property">static </em><tt class="descname">assert_almost_equal</tt><big>(</big><em>actual</em>, <em>desired</em>, <em>decimal=7</em>, <em>err_msg=''</em>, <em>verbose=True</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/testing.html#PymatgenTest.assert_almost_equal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest.assert_almost_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternative naming for assertArrayAlmostEqual.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="pymatgen.util.testing.PymatgenTest.assert_equal">
<em class="property">static </em><tt class="descname">assert_equal</tt><big>(</big><em>actual</em>, <em>desired</em>, <em>err_msg=''</em>, <em>verbose=True</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/testing.html#PymatgenTest.assert_equal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest.assert_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternative naming for assertArrayEqual.</p>
</dd></dl>

<dl class="method">
<dt id="pymatgen.util.testing.PymatgenTest.serialize_with_pickle">
<tt class="descname">serialize_with_pickle</tt><big>(</big><em>objects</em>, <em>protocols=None</em>, <em>test_eq=True</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/testing.html#PymatgenTest.serialize_with_pickle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest.serialize_with_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether the object(s) can be serialized and deserialized with pickle.
This method tries to serialize the objects with pickle and the protocols
specified in input. Then it deserializes the pickle format and compares
the two objects with the __eq__ operator if test_eq == True.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>objects:</dt>
<dd>Object or list of objects.</dd>
<dt>protocols:</dt>
<dd>List of pickle protocols to test.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>Nested list with the objects deserialized with the specified protocols.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymatgen.util.testing.PymatgenTest.tmpfile_write">
<tt class="descname">tmpfile_write</tt><big>(</big><em>string</em><big>)</big><a class="reference internal" href="_modules/pymatgen/util/testing.html#PymatgenTest.tmpfile_write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.util.testing.PymatgenTest.tmpfile_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write string to a temporary file. Returns the name of the temporary file.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pymatgen.util">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pymatgen.util" title="Permalink to this headline">¶</a></h2>
<p>The util package implements various utilities that are commonly used by various
packages.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">pymatgen.util package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-pymatgen.util.coord_utils">pymatgen.util.coord_utils module</a></li>
<li><a class="reference internal" href="#module-pymatgen.util.decorators">pymatgen.util.decorators module</a></li>
<li><a class="reference internal" href="#module-pymatgen.util.io_utils">pymatgen.util.io_utils module</a></li>
<li><a class="reference internal" href="#module-pymatgen.util.num_utils">pymatgen.util.num_utils module</a></li>
<li><a class="reference internal" href="#module-pymatgen.util.plotting_utils">pymatgen.util.plotting_utils module</a></li>
<li><a class="reference internal" href="#module-pymatgen.util.string_utils">pymatgen.util.string_utils module</a></li>
<li><a class="reference internal" href="#module-pymatgen.util.testing">pymatgen.util.testing module</a></li>
<li><a class="reference internal" href="#module-pymatgen.util">Module contents</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/pymatgen.util.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">pymatgen 2.8.9 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2011, Shyue Ping Ong, Anubhav Jain, Geoffroy Hautier, William Davidson Richard, Stephen Dacek, Sai Jayaraman, Michael Kocher, Dan Gunter, Shreyas Cholia, Vincent L Chevrier, Rickard Armiento.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>